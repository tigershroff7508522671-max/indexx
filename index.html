<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Employee Performance Dashboard</title>
<style>
body{
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f3f7;
    margin:0;
    padding:20px;
}
header{
    display:flex;
    justify-content: space-between;
    align-items:center;
    margin-bottom:20px;
}
h1{
    color:#333;
}
button.manager-btn{
    background:#1abc9c;
    color:white;
    border:none;
    padding:10px 18px;
    border-radius:8px;
    cursor:pointer;
    font-size:14px;
}
button.manager-btn:hover{
    background:#16a085;
}

/* Layout */
.container{
    display:flex;
    gap:20px;
}

/* Sidebar */
.sidebar{
    width:260px;
    background:white;
    padding:15px;
    border-radius:12px;
    box-shadow:0 8px 20px rgba(0,0,0,0.1);
    height:fit-content;
}
.sidebar h2{
    margin-top:0;
    font-size:18px;
    color:#1abc9c;
    text-align:center;
}
.date-time{
    text-align:center;
    font-size:14px;
    margin-bottom:15px;
    color:#34495e;
    font-weight:bold;
}
.top-list{
    list-style:none;
    padding:0;
    margin:0;
}
.top-list li{
    position: relative;
    padding:8px 5px;
    margin-bottom:12px;
    font-size:14px;
    border-radius:6px;
    overflow:hidden;
    color:#fff;
    font-weight:bold;
    height:28px;
    display:flex;
    align-items:center;
}
.top-list li .bar-bg{
    position:absolute;
    top:0;
    left:0;
    height:100%;
    border-radius:6px;
    z-index:0;
    transition: width 0.6s;
    background: linear-gradient(90deg, #ff3c3c, #ff8c3c, #3cff5c); /* HD gradient colors */
}
.top-list li span{
    position:relative;
    z-index:1;
    padding-left:5px;
}

/* Gradient bar legend */
.gradient-bar{
    height:15px;
    border-radius:8px;
    margin-top:20px;
    background: linear-gradient(to right, #ff3c3c 0%, #ff8c3c 50%, #3cff5c 100%);
}
.gradient-labels{
    display:flex;
    justify-content: space-between;
    font-size:12px;
    margin-top:3px;
    color:#2c3e50;
    font-weight:bold;
}

/* Dashboard */
.dashboard{
    flex:1;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap:20px;
}
.card{
    background:white;
    border-radius:12px;
    padding:20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    transition: transform 0.3s;
}
.card:hover{
    transform: translateY(-5px);
}
.employee-name{
    font-size:20px;
    font-weight:bold;
    margin-bottom:15px;
    color:#2c3e50;
    text-align:center;
}
.bar-container{
    margin-bottom:12px;
}
.label{
    font-size:13px;
    margin-bottom:4px;
    color:#555;
}
.bar{
    height:15px;
    background:#e0e0e0;
    border-radius:10px;
    overflow:hidden;
}
.fill{
    height:100%;
    border-radius:10px;
    transition:1s;
}
.score{
    text-align:right;
    font-size:12px;
    margin-top:2px;
    color:#333;
}
.overall{
    margin-top:15px;
    font-weight:bold;
    font-size:16px;
    text-align:center;
    color:#1abc9c;
}

/* Fixed bar colors for dashboard */
.fill.attitude{background:#1abc9c;}
.fill.teamwork{background:#3498db;}
.fill.communication{background:#9b59b6;}
.fill.behaviour{background:#e67e22;}
.fill.ability{background:#f1c40f;}
.fill.speed{background:#e74c3c;}
.fill.quality{background:#16a085;}
.fill.grooming{background:#34495e;}
</style>
</head>
<body>

<header>
    <h1>Employee Performance Dashboard</h1>
    <button class="manager-btn" onclick="loginManager()">Manager</button>
</header>

<div class="container">
    <!-- Sidebar: Top performers -->
    <div class="sidebar">
        <div class="date-time" id="currentDateTime"></div>
        <h2>Top Performers</h2>
        <ul id="topPerformers" class="top-list"></ul>

        <!-- Gradient bar legend -->
        <div style="margin-top:20px; text-align:center; font-weight:bold; color:#34495e;">Performance Levels</div>
        <div class="gradient-bar"></div>
        <div class="gradient-labels">
            <span>Bad</span>
            <span>Good</span>
            <span>Excellent</span>
        </div>
    </div>

    <!-- Main dashboard -->
    <div class="dashboard" id="dashboard"></div>
</div>

<script>
// Manager login
function loginManager() {
    const name = prompt("Enter manager name:").trim();
    const password = prompt("Enter password:").trim();
    if(name === "Vikas" && password === "450$") {
        window.location.href = "dashbord.html"; 
    } else {
        alert("Wrong user");
    }
}

// Performance criteria
const criteria = ["attitude","teamwork","communication","behaviour","ability","speed","quality","grooming"];
const dashboard = document.getElementById("dashboard");
const topList = document.getElementById("topPerformers");

// Load employee data
let employees = JSON.parse(localStorage.getItem("performanceData")) || {};

// Helper: overall score
function overallScore(emp){
    let total = 0;
    criteria.forEach(c=> total += emp[c]);
    return Math.round(total / criteria.length);
}

// Helper: HD gradient color for sidebar bars
function getHDColor(score){
    if(score < 70) return '#ff1a1a';      // intense red
    if(score >= 85) return '#00ff40';     // vivid green
    return '#ffa500';                      // bright orange
}

// Show current date and time
function updateDateTime(){
    const dt = new Date();
    document.getElementById("currentDateTime").innerText = dt.toLocaleString();
}
updateDateTime();
setInterval(updateDateTime, 1000);

// Sort employees by overall score
let sortedEmployees = Object.entries(employees).sort((a,b)=> overallScore(b[1]) - overallScore(a[1]));

// Populate sidebar top performers with HD bars behind names
sortedEmployees.forEach(([name, emp])=>{
    const li = document.createElement("li");
    const score = overallScore(emp);

    const span = document.createElement('span');
    span.innerText = `${name} - ${score}%`;
    li.appendChild(span);

    const barBg = document.createElement('div');
    barBg.classList.add('bar-bg');
    barBg.style.width = score + '%';
    barBg.style.background = `linear-gradient(90deg, ${getHDColor(score)}, ${getHDColor(score)})`;
    li.appendChild(barBg);

    topList.appendChild(li);
});

// Populate main dashboard with fixed colors
sortedEmployees.forEach(([empName, emp])=>{
    let html = `<div class="card"><div class="employee-name">${empName}</div>`;
    
    criteria.forEach(c=>{
        html += `
        <div class="bar-container">
            <div class="label">${c.charAt(0).toUpperCase() + c.slice(1)}</div>
            <div class="bar">
                <div class="fill ${c}" style="width:${emp[c]}%"></div>
            </div>
            <div class="score">${emp[c]}%</div>
        </div>`;
    });
    
    html += `<div class="overall">Overall: ${overallScore(emp)}%</div></div>`;
    dashboard.innerHTML += html;
});
</script>

</body>
</html>

