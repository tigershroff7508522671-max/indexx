<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Assign Employee Performance</title>
<style>
body{
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background:#f0f3f7;
    margin:0;
    padding:20px;
}
h1{
    text-align:center;
    margin-bottom:20px;
    color:#333;
}
form{
    max-width:800px;
    margin:auto;
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 8px 20px rgba(0,0,0,0.1);
}
.employee-block{
    border-bottom:1px solid #ddd;
    padding:15px 0;
}
.employee-block:last-child{
    border-bottom:none;
}
.employee-name{
    font-weight:bold;
    margin-bottom:10px;
    font-size:18px;
}
label{
    display:block;
    margin:5px 0 2px 0;
    font-size:13px;
    color:#555;
}
input[type=number]{
    width:100%;
    padding:6px;
    border-radius:5px;
    border:1px solid #ccc;
    margin-bottom:8px;
}
button{
    background:#1abc9c;
    color:white;
    border:none;
    padding:12px 20px;
    border-radius:8px;
    cursor:pointer;
    font-size:16px;
    margin-right:10px;
}
button:hover{
    background:#16a085;
}
.back-btn{
    background:#3498db;
}
.back-btn:hover{
    background:#2980b9;
}
</style>
</head>
<body>




<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // Your Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyDfrNmQ8JcTf8UOH6gozmMjf8lcSrhg_34",
    authDomain: "dashbord-96b19.firebaseapp.com",
    projectId: "dashbord-96b19",
    storageBucket: "dashbord-96b19.firebasestorage.app",
    messagingSenderId: "664163400702",
    appId: "1:664163400702:web:7def86671fc795d9175eaf",
    measurementId: "G-P79Z4MDLVR"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // SAVE data (online)
  window.saveData = async function () {
    const text = document.getElementById("data").value;
    await addDoc(collection(db, "mydata"), {
      text: text
    });
    alert("Saved for ALL devices âœ…");
  };

  // LOAD data (from all devices)
  window.loadData = async function () {
    const list = document.getElementById("output");
    list.innerHTML = "";
    const querySnapshot = await getDocs(collection(db, "mydata"));
    querySnapshot.forEach((doc) => {
      list.innerHTML += `<p>${doc.data().text}</p>`;
    });
  };
</script>

<input id="data" placeholder="Type something">
<button onclick="saveData()">Save</button>
<button onclick="loadData()">Load</button>

<div id="output"></div>






















    

<h1>Assign Employee Performance</h1>

<form id="performanceForm"></form>

<div style="text-align:center; margin-top:20px;">
    <button class="back-btn" onclick="goBack()">Back to Dashboard</button>
</div>

<script>
const employees = ["Dinu","Anil","Lakhan","Vishal"];
const criteria = ["attitude","teamwork","communication","behaviour","ability","speed","quality","grooming"];

const form = document.getElementById("performanceForm");

// Load existing data
let savedData = JSON.parse(localStorage.getItem("performanceData")) || {};

// Create input fields
employees.forEach(emp=>{
    const block = document.createElement("div");
    block.className = "employee-block";
    
    let html = `<div class="employee-name">${emp}</div>`;
    criteria.forEach(c=>{
        let value = savedData[emp] ? savedData[emp][c] || 0 : 0;
        html += `<label>${c.charAt(0).toUpperCase()+c.slice(1)} (%)</label>
        <input type="number" min="0" max="100" value="${value}" data-emp="${emp}" data-crit="${c}">`;
    });
    
    block.innerHTML = html;
    form.appendChild(block);
});

// Submit button
const btn = document.createElement("button");
btn.type="submit";
btn.textContent="Save Performance";
form.appendChild(btn);

// Save to localStorage
form.addEventListener("submit",e=>{
    e.preventDefault();
    const inputs = form.querySelectorAll("input");
    const data = {};
    employees.forEach(emp=> data[emp]={});
    inputs.forEach(inp=>{
        const emp = inp.getAttribute("data-emp");
        const crit = inp.getAttribute("data-crit");
        data[emp][crit] = parseInt(inp.value) || 0;
    });
    localStorage.setItem("performanceData", JSON.stringify(data));
    alert("Performance saved successfully!");
});

// Back button
function goBack(){
    window.location.href = "dashbord.html";
}
</script>

</body>
</html>



